-- PixelBrush.lua

-- Purpose
--------------
-- an arrangement of pixels to be used on a PixelTexture object as a stamp

-------------
-- Requires
-------------
local Color = require("Color")

------------------------------------------------------------------------------

local PixelBrush = {}

----------------
-- Static Info
----------------
PixelBrush.Info = Info:New
{
	objectType = "PixelBrush",
	dataType = "Graphics",
	structureType = "Static"
}

-------------
-- Object
-------------
-- {width, height, pixels, color}
function PixelBrush:New(data)

	local o = {}

	---------
	-- Info
	---------
	o.Info = Info:New
	{
		name = data.name or "...",
		objectType = "PixelBrush",
		dataType = "Graphics",
		structureType = "Object"
	}

	-----------
	-- Vars
	-----------
	o.width = data.width
	o.height = data.height
	o.pixels = data.pixels
	o.color = data.color


	function o:Destroy()
		ObjectManager:Destroy(self.Info)
	end

	------------
	-- End
	------------

	return o

end



-----------------------
-- Static Functions
-----------------------

function PixelBrush:SetColor(colorName)
	self.color = Color:Get(colorName)
end




PixelBrush.brushes = {}

PixelBrush.all = 
{
	"x1", "x2", "x4", "x8", "x16", "x32",
	"plus", "happyFace",
	"circlex1", "ciclex2",
}


PixelBrush.x1 = PixelBrush:New
{
	width = 1,
	height = 1,
	color = "black",
	pixels = 
	{
		{1}
	}
}

PixelBrush.x2 = PixelBrush:New
{
	width = 2,
	height = 2,
	color = "black",
	pixels =
	{
		{1,1},
		{1,1}
	}
}

PixelBrush.x4 = PixelBrush:New
{
	width = 4,
	height = 4,
	color = "green",
	pixels =
	{
		{1,1,1,1},
		{1,1,1,1},
		{1,1,1,1},
		{1,1,1,1},
	}	
}

PixelBrush.x8 = PixelBrush:New
{
	width = 8,
	height = 8,
	color = "pink",
	pixels =
	{
		{1,1,1,1,1,1,1,1},
		{1,1,1,1,1,1,1,1},
		{1,1,1,1,1,1,1,1},
		{1,1,1,1,1,1,1,1},
		{1,1,1,1,1,1,1,1},
		{1,1,1,1,1,1,1,1},
		{1,1,1,1,1,1,1,1},
		{1,1,1,1,1,1,1,1},
	}
}

PixelBrush.x16 = PixelBrush:New
{
	width = 16,
	height = 16,
	color = "black",
	pixels = 
	{
		{1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1},
		{1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1},
		{1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1},
		{1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1},
		{1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1},
		{1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1},
		{1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1},
		{1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1},
		{1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1},
		{1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1},
		{1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1},
		{1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1},
		{1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1},
		{1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1},
		{1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1},
		{1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1},
	}
}

PixelBrush.x32 = PixelBrush:New
{
	width = 32,
	height = 32,
	color = "black",
	pixels =
	{
		{1,1,1,1, 1,1,1,1, 1,1,1,1, 1,1,1,1, 1,1,1,1, 1,1,1,1, 1,1,1,1, 1,1,1,1,},
		{1,1,1,1, 1,1,1,1, 1,1,1,1, 1,1,1,1, 1,1,1,1, 1,1,1,1, 1,1,1,1, 1,1,1,1,},
		{1,1,1,1, 1,1,1,1, 1,1,1,1, 1,1,1,1, 1,1,1,1, 1,1,1,1, 1,1,1,1, 1,1,1,1,},
		{1,1,1,1, 1,1,1,1, 1,1,1,1, 1,1,1,1, 1,1,1,1, 1,1,1,1, 1,1,1,1, 1,1,1,1,},
		{1,1,1,1, 1,1,1,1, 1,1,1,1, 1,1,1,1, 1,1,1,1, 1,1,1,1, 1,1,1,1, 1,1,1,1,},
		{1,1,1,1, 1,1,1,1, 1,1,1,1, 1,1,1,1, 1,1,1,1, 1,1,1,1, 1,1,1,1, 1,1,1,1,},
		{1,1,1,1, 1,1,1,1, 1,1,1,1, 1,1,1,1, 1,1,1,1, 1,1,1,1, 1,1,1,1, 1,1,1,1,},
		{1,1,1,1, 1,1,1,1, 1,1,1,1, 1,1,1,1, 1,1,1,1, 1,1,1,1, 1,1,1,1, 1,1,1,1,},
		{1,1,1,1, 1,1,1,1, 1,1,1,1, 1,1,1,1, 1,1,1,1, 1,1,1,1, 1,1,1,1, 1,1,1,1,},
		{1,1,1,1, 1,1,1,1, 1,1,1,1, 1,1,1,1, 1,1,1,1, 1,1,1,1, 1,1,1,1, 1,1,1,1,},
		{1,1,1,1, 1,1,1,1, 1,1,1,1, 1,1,1,1, 1,1,1,1, 1,1,1,1, 1,1,1,1, 1,1,1,1,},
		{1,1,1,1, 1,1,1,1, 1,1,1,1, 1,1,1,1, 1,1,1,1, 1,1,1,1, 1,1,1,1, 1,1,1,1,},
		{1,1,1,1, 1,1,1,1, 1,1,1,1, 1,1,1,1, 1,1,1,1, 1,1,1,1, 1,1,1,1, 1,1,1,1,},
		{1,1,1,1, 1,1,1,1, 1,1,1,1, 1,1,1,1, 1,1,1,1, 1,1,1,1, 1,1,1,1, 1,1,1,1,},
		{1,1,1,1, 1,1,1,1, 1,1,1,1, 1,1,1,1, 1,1,1,1, 1,1,1,1, 1,1,1,1, 1,1,1,1,},
		{1,1,1,1, 1,1,1,1, 1,1,1,1, 1,1,1,1, 1,1,1,1, 1,1,1,1, 1,1,1,1, 1,1,1,1,},
		{1,1,1,1, 1,1,1,1, 1,1,1,1, 1,1,1,1, 1,1,1,1, 1,1,1,1, 1,1,1,1, 1,1,1,1,},
		{1,1,1,1, 1,1,1,1, 1,1,1,1, 1,1,1,1, 1,1,1,1, 1,1,1,1, 1,1,1,1, 1,1,1,1,},
		{1,1,1,1, 1,1,1,1, 1,1,1,1, 1,1,1,1, 1,1,1,1, 1,1,1,1, 1,1,1,1, 1,1,1,1,},
		{1,1,1,1, 1,1,1,1, 1,1,1,1, 1,1,1,1, 1,1,1,1, 1,1,1,1, 1,1,1,1, 1,1,1,1,},
		{1,1,1,1, 1,1,1,1, 1,1,1,1, 1,1,1,1, 1,1,1,1, 1,1,1,1, 1,1,1,1, 1,1,1,1,},
		{1,1,1,1, 1,1,1,1, 1,1,1,1, 1,1,1,1, 1,1,1,1, 1,1,1,1, 1,1,1,1, 1,1,1,1,},
		{1,1,1,1, 1,1,1,1, 1,1,1,1, 1,1,1,1, 1,1,1,1, 1,1,1,1, 1,1,1,1, 1,1,1,1,},
		{1,1,1,1, 1,1,1,1, 1,1,1,1, 1,1,1,1, 1,1,1,1, 1,1,1,1, 1,1,1,1, 1,1,1,1,},
		{1,1,1,1, 1,1,1,1, 1,1,1,1, 1,1,1,1, 1,1,1,1, 1,1,1,1, 1,1,1,1, 1,1,1,1,},
		{1,1,1,1, 1,1,1,1, 1,1,1,1, 1,1,1,1, 1,1,1,1, 1,1,1,1, 1,1,1,1, 1,1,1,1,},
		{1,1,1,1, 1,1,1,1, 1,1,1,1, 1,1,1,1, 1,1,1,1, 1,1,1,1, 1,1,1,1, 1,1,1,1,},
		{1,1,1,1, 1,1,1,1, 1,1,1,1, 1,1,1,1, 1,1,1,1, 1,1,1,1, 1,1,1,1, 1,1,1,1,},
		{1,1,1,1, 1,1,1,1, 1,1,1,1, 1,1,1,1, 1,1,1,1, 1,1,1,1, 1,1,1,1, 1,1,1,1,},
		{1,1,1,1, 1,1,1,1, 1,1,1,1, 1,1,1,1, 1,1,1,1, 1,1,1,1, 1,1,1,1, 1,1,1,1,},
		{1,1,1,1, 1,1,1,1, 1,1,1,1, 1,1,1,1, 1,1,1,1, 1,1,1,1, 1,1,1,1, 1,1,1,1,},
		{1,1,1,1, 1,1,1,1, 1,1,1,1, 1,1,1,1, 1,1,1,1, 1,1,1,1, 1,1,1,1, 1,1,1,1,},
	}
}



PixelBrush.plus = PixelBrush:New
{
	width = 6,
	height = 6,
	color = "black",
	pixels = 
	{
		{0,0,1,1,0,0},
		{0,0,1,1,0,0},
		{1,1,1,1,1,1},
		{1,1,1,1,1,1},
		{0,0,1,1,0,0},
		{0,0,1,1,0,0},
	}
}


PixelBrush.circlex1 = PixelBrush:New
{
	width = 4,
	height = 4,
	color = "blue",
	pixels = 
	{
		{0,1,1,0},
  	{1,0,0,1},
 		{1,0,0,1},
 		{0,1,1,0},
	}
}

PixelBrush.ciclex2 = PixelBrush:New
{
	width = 8,
	height = 8,
	color = "black",
	pixels =
	{
		{0,0,1,1,1,1,0,0},
		{0,1,0,0,0,0,1,0},
		{1,0,0,0,0,0,0,1},
		{1,0,0,0,0,0,0,1},
		{1,0,0,0,0,0,0,1},
		{1,0,0,0,0,0,0,1},
		{0,1,0,0,0,0,1,0},
		{0,0,1,1,1,1,0,0},
	}
}

PixelBrush.happyFace = PixelBrush:New
{
	width = 10,
	height = 10,
	color = "orange",
	pixels =
	{
		{0,0,1,1,1,1,1,1,0,0},
		{0,1,0,0,0,0,0,0,1,0},
		{1,0,1,1,0,0,1,1,0,1},
		{1,0,1,1,0,0,1,1,0,1},
		{1,0,1,1,0,0,1,1,0,1},
		{1,0,0,0,0,0,0,0,0,1},
		{1,0,1,0,0,0,0,1,0,1},
		{1,0,0,1,1,1,1,0,0,1},
		{0,1,0,0,0,0,0,0,1,0},
		{0,0,1,1,1,1,1,1,0,0},
	}
}

PixelBrush.edgeTest = PixelBrush:New
{
	width = 8,
	height = 8,
	color = "red",
	pixels = 
	{
		{1,0,1,1,1,1,0,1},
		{0,0,0,1,1,0,0,0},
		{1,0,0,1,1,0,0,1},
		{1,1,1,1,1,1,1,1},
		{1,1,1,1,1,1,1,1},
		{1,0,0,1,1,0,0,1},
		{0,0,0,1,1,0,0,0},
		{1,0,1,1,1,1,0,1},
	}
}













return PixelBrush